<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					xmlns:local="clr-namespace:ForgeModGenerator"
					xmlns:controls="clr-namespace:ForgeModGenerator.UserControls"
					xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
	<Style TargetType="{x:Type controls:FolderExpanderControl}">
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type controls:FolderExpanderControl}">
					<Border Background="{TemplateBinding Background}"
							BorderBrush="{TemplateBinding BorderBrush}"
							BorderThickness="{TemplateBinding BorderThickness}">
						<Expander Foreground="Wheat"
								  Background="#FF424242"
								  HorizontalAlignment="Stretch">
							<Expander.HeaderTemplate>
								<DataTemplate>
									<StackPanel Orientation="Horizontal">
										<Button Width="20"
												Height="20"
												Padding="0"
												Command="{Binding Path=AddFileCommand, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
												CommandParameter="{Binding Path=Folder, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}">
											<materialDesign:PackIcon Kind="Plus" />
										</Button>
										<Button Width="20"
												Height="20"
												Padding="0"
												Margin="8,0"
												Command="{Binding Path=ShowContainerCommand, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}">
											<materialDesign:PackIcon Kind="FolderOpen" />
										</Button>
										<TextBlock Margin="12,0">
											<TextBlock.Text>
												<MultiBinding StringFormat="({0}) {1}">
													<Binding Path="Folder.Count"
															 RelativeSource="{RelativeSource AncestorType=controls:FolderExpanderControl}" />
													<Binding Path="HeaderText"
															 RelativeSource="{RelativeSource AncestorType=controls:FolderExpanderControl}" />
												</MultiBinding>
											</TextBlock.Text></TextBlock>
									</StackPanel>
								</DataTemplate>
							</Expander.HeaderTemplate>
							<ListBox ItemsSource="{Binding Path=Folder.Files, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
									 SelectedItem="{Binding Path=SelectedFile, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
									 ItemTemplate="{Binding Path=FileItemTemplate, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
									 ScrollViewer.HorizontalScrollBarVisibility="Disabled">
								<ListBox.ItemsPanel>
									<ItemsPanelTemplate>
										<WrapPanel IsItemsHost="True" />
									</ItemsPanelTemplate>
								</ListBox.ItemsPanel>
							</ListBox>
						</Expander>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
	<Style TargetType="{x:Type controls:SoundFolderExpanderControl}">
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type controls:SoundFolderExpanderControl}">
					<Border Background="{TemplateBinding Background}"
							BorderBrush="{TemplateBinding BorderBrush}"
							BorderThickness="{TemplateBinding BorderThickness}">
						<Expander Foreground="Wheat"
								  Background="#FF424242"
								  HorizontalAlignment="Stretch">
							<Expander.HeaderTemplate>
								<DataTemplate>
									<StackPanel Orientation="Horizontal">
										<Button Width="20"
												Height="20"
												Padding="0"
												Command="{Binding Path=AddFileCommand, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
												CommandParameter="{Binding Path=Folder, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}">
											<materialDesign:PackIcon Kind="Plus" />
										</Button>
										<Button Width="20"
												Height="20"
												Padding="0"
												Margin="8,0"
												Command="{Binding Path=RemoveFolderCommand, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
												CommandParameter="{Binding Path=Folder, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}">
											<materialDesign:PackIcon Kind="Trash" />
										</Button>
										<TextBlock Margin="10,5,5,0"
												   Text="{Binding Folder.Count, StringFormat={}({0}), RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}" />
										<TextBox Text="{Binding Path=DataContext.EventName, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}" />
									</StackPanel>
								</DataTemplate>
							</Expander.HeaderTemplate>
							<ListBox ItemsSource="{Binding Path=Folder.Files, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
									 SelectedItem="{Binding Path=SelectedFile, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
									 ItemTemplate="{Binding Path=FileItemTemplate, RelativeSource={RelativeSource AncestorType=controls:FolderExpanderControl}}"
									 ScrollViewer.HorizontalScrollBarVisibility="Disabled">
								<ListBox.ItemsPanel>
									<ItemsPanelTemplate>
										<WrapPanel IsItemsHost="True" />
									</ItemsPanelTemplate>
								</ListBox.ItemsPanel>
							</ListBox>
						</Expander>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
</ResourceDictionary>
